(this.webpackJsonpyeetmeister=this.webpackJsonpyeetmeister||[]).push([[0],[,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),o=a(1),i=r.a.createContext({loading:!1,theme:"one",themes:[]}),m=i;function s(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)("one"),s=Object(o.a)(m,2),u={loading:c,theme:s[0],themes:["one","two","three","four"],setLoading:l,setTheme:s[1]};return r.a.createElement(i.Provider,{value:u},e.children)}var u={fetchSite:function(e){return fetch("https://cors-anywhere.herokuapp.com/"+e).then((function(e){return e.text()}))},serializeVSTorrent:function(e){var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.querySelectorAll("article.post")).map((function(e){var t=e.querySelector("h2.entry-title").textContent.trim(),a=t.match(/\([^()]*\)/g,""),n=t.match(/\[[^()]*\]/g,""),r=a?a[0].slice(1,-1).split(","):[],c=n?n[0].slice(1,-1).split("."):[];return{title:t.replace(/\[[^()]*\]/,"").replace(/\([^()]*\)/,""),fullTitle:t,img:"https://cors-anywhere.herokuapp.com/"+e.querySelector(".wp-post-image").getAttribute("src"),date:e.querySelector("span.date").textContent.trim(),href:e.querySelector(".entry-title a").getAttribute("href"),formats:r,systems:c}}))}};a(9),a(10);function f(e){var t=r.a.useContext(m),a=e.pageNumber,c=Object(n.useState)([]),l=Object(o.a)(c,2),i=l[0],s=l[1],f=function(e){console.log(e)},h=function(){var a;switch(e.site){case"vstorrent.org":a="page/".concat(e.pageNumber)}t.setLoading(!0),u.fetchSite("https://".concat(e.site,"/").concat(a)).then((function(e){var a=u.serializeVSTorrent(e);s(a),t.setLoading(!1)})).catch(f)};return r.a.useEffect((function(){h()}),[]),r.a.useEffect((function(){h()}),[a]),r.a.createElement("ul",{id:"item-list"},i.map((function(t,a){return r.a.createElement(p,{key:"item-".concat(a),title:t.title,fullTitle:t.fullTitle,formats:t.formats,systems:t.systems,date:t.date,selectItem:function(){return e.setItem(t)}})})))}function p(e){return r.a.createElement("li",null,r.a.createElement("a",{href:"#",onClick:e.selectItem},r.a.createElement("p",{className:"item-title"},e.title," ",r.a.createElement("span",null,"\u2022 ",e.date)),r.a.createElement("p",{className:"item-systems"},e.systems.map((function(e,t){var a=e.split(" ")[0].toLowerCase();return r.a.createElement("span",{className:"icon icon-".concat(a),key:"icon-".concat(t)})}))),r.a.createElement("p",{className:"item-badges"},e.formats.map((function(e,t){var a=e.toLowerCase().trim();return r.a.createElement("span",{className:"badge badge-".concat(a),key:"badge-".concat(t)},e)})))))}function h(e){var t=Object.keys(e.item).length>0;return r.a.createElement("div",{id:"sidebar-preview"},r.a.createElement("h2",null,e.item.title),t&&r.a.createElement("div",null,r.a.createElement("a",{className:"btn btn-google",href:"https://google.com/search?q=".concat(e.item.title.replace(" ","+")),target:"_blank"},"Search"),r.a.createElement("button",{type:"button",className:"btn-magnet"},"Magnet")))}a(11);function g(e){return r.a.createElement("section",{id:"sidebar"},r.a.createElement("select",{value:e.site,onChange:function(t){return e.setSite(t.target.value)}},r.a.createElement("option",null,"vstorrent.org")),r.a.createElement("form",{className:"inline-form"},r.a.createElement("input",{type:"text"}),r.a.createElement("input",{type:"submit"})),r.a.createElement("hr",null),r.a.createElement(h,{item:e.selectedItem}),r.a.createElement("hr",null),r.a.createElement("button",{type:"button"},"test 1"),r.a.createElement("button",{type:"button"},"test 2"))}a(12);function E(e){var t=r.a.useContext(m);return r.a.createElement("header",{id:"main-header"},r.a.createElement("h1",{className:"shine"},"yeetmeister ",r.a.createElement("sup",null,"5000")),r.a.createElement("div",{id:"theme-select"},t.themes.map((function(e){return r.a.createElement("button",{type:"button",id:"icon-theme-".concat(e),className:"icon icon-theme",onClick:function(){return t.setTheme(e)}},e)}))))}function b(e){var t=e.pageNumber,a=Object(n.useState)(e.pageNumber),c=Object(o.a)(a,2),l=c[0],i=c[1],m=r.a.createElement("button",{type:"button",onClick:function(t){return e.setPageNumber(e.pageNumber-1)}},e.pageNumber-1);r.a.useEffect((function(){i(t)}),[t]);return r.a.createElement("div",{className:"pager ".concat(e.hide?"hide":"")},r.a.createElement("div",{className:"pager-center"},e.pageNumber>1&&[m,r.a.createElement("span",null,"... ")],r.a.createElement("form",{id:"pager-search",onSubmit:function(t){t.preventDefault();var a=parseInt(t.target.pagenum.value);isNaN(a)||e.setPageNumber(a)}},r.a.createElement("input",{name:"pagenum",type:"text",value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement("span",null,"..."),r.a.createElement("button",{type:"button",onClick:function(t){return e.setPageNumber(e.pageNumber+1)}},e.pageNumber+1)))}function d(e){return r.a.useContext(m).loading?r.a.createElement("div",{className:"loader"}):null}a(13);var v=function(){var e=r.a.useContext(m),t=Object(n.useState)("vstorrent.org"),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(1),s=Object(o.a)(i,2),u=s[0],p=s[1],h=Object(n.useState)({}),v=Object(o.a)(h,2),y=v[0],N=v[1],S=e.theme;return r.a.useEffect((function(){e.setTheme(localStorage.getItem("theme")||"one")}),[]),r.a.useEffect((function(){localStorage.setItem("theme",S)}),[S]),r.a.createElement("div",{className:"theme-".concat(e.theme)},r.a.createElement("div",{id:"container"},r.a.createElement(E,null),r.a.createElement("main",null,r.a.createElement("div",{className:"frame"},r.a.createElement(g,{site:c,setSite:l,selectedItem:y}),r.a.createElement("section",{id:"content"},r.a.createElement(d,null),r.a.createElement(f,{site:c,pageNumber:u,setItem:N}),r.a.createElement(b,{pageNumber:u,setPageNumber:p,hide:e.loading})))),r.a.createElement("footer",{id:"main-footer"},r.a.createElement("small",null,"\xa9 ",(new Date).getFullYear()," andre k w"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(s,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.41087dc7.chunk.js.map